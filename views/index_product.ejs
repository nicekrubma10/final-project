<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Prompt&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link href="/css/dashboard.css" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">

    <title>ขายเครื่องดื่ม</title>
</head>
<body>
  
    <div class="container px-2 px-lg-2 my-3">
      <% if (UserData.role === 'พนักงาน') { %>
        <a href="/homeU" class="btn btn-outline-secondary">
          <i class="fa-solid fa-arrow-left"></i>
          กลับสู่หลังบ้าน
        </a>
      <% } else if (UserData.role === 'เจ้าของร้าน') { %>
        <a href="/home" class="btn btn-outline-secondary">
          <i class="fa-solid fa-arrow-left"></i>
          กลับสู่หลังบ้าน
        </a>
      <% } %>
      <br>
      <br>
      
        <div class="row">
            <div class="col-md-8">
                <h1><i class="fa-solid fa-whiskey-glass"></i> รายการเมนู</h1>
                <br>
                <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
                
                <div class="form-outline" data-mdb-input-init>
                  <label class="form-label" for="search-focus">Search</label>
                  <input id="search-focus" type="search" class="form-control">
              </div>
            <br>
                <ul class="nav nav-pills nav-fill gap-2 p-1 small bg-black rounded-5 shadow-sm" id="pillNav2" role="tablist" style="--bs-nav-link-color: var(--bs-white); --bs-nav-pills-link-active-color: var(--bs-black); --bs-nav-pills-link-active-bg: var(--bs-white);">
                  <li class="nav-item" role="presentation">
                    <button class="nav-link active rounded-5" id="all-tab2" data-bs-toggle="tab" type="button" role="tab" aria-selected="true" data-type="all">ทั้งหมด</button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button class="nav-link rounded-5" id="hot-tab2" data-bs-toggle="tab" type="button" role="tab" aria-selected="false" data-type="hot"><i class="fa-solid fa-mug-saucer"></i>  ร้อน</button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button class="nav-link rounded-5" id="cold-tab2" data-bs-toggle="tab" type="button" role="tab" aria-selected="false" data-type="cold"><i class="bi bi-cup-straw"></i>  เย็น</button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button class="nav-link rounded-5" id="mix-tab2" data-bs-toggle="tab" type="button" role="tab" aria-selected="false" data-type="blended"><i class="fa-solid fa-blender"></i>  ปั่น</button>
                  </li>
                </ul>
                
                <hr>      
                <div class="container px-4 px-lg-5 mt-5">
                    <div class="product-row row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-start">
                      <% products.forEach(product => { %>
                        <div class="col mb-5">
                          <div class="card h-100" data-bs-toggle="modal" data-bs-target="#productModal">
                            <img class="card-img-top" src="images/products/<%= product.image %>" style="width: 100%; height: 200px; object-fit: cover;">
                            <div class="card-body p-4">
                              <div class="text-center">
                                <h5 class="fw-bolder"><%= product.productname %></h5>
                                <%= product.type %> 
                                <br>
                                <%= product.price %> ฿
                              </div>
                            </div>
                            <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                            </div>
                          </div>
                        </div>
                      <% }); %>
                      
                    </div>   
                </div>
            </div>        

            <div class="col-md-4">
              <div class="card aspect-ratio-1x1 rounded-5" style="height: 600px;">
                  <div class="card-body p-4">
                  <div class="small mb-1 fw-bold">ราคา</div>
              </div>
              <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                  <div class="card-body p-4">
                      <div class="row">
                          <div class="col">
                              <div class="small mb-1 fw-bold">Total</div>
                          </div>
                          <div class="col text-end">
                              <div class="small mb-1">500฿</div>
                          </div>
                      </div>
                  </div>
                  <div class="card-footer p-4 pt-0 border-top-0 bg-transparent text-center">
                      <a href="/paymentoptions" class="btn btn-gradient-primary btn-lg">ยืนยันคำสั่งซื้อ</a>
                  </div>
              </div>
          </div>

        </div>
      </div>

      
<!-- Add this modal HTML somewhere in your document -->
<div class="modal fade" id="productModal" tabindex="-1" aria-labelledby="productModalLabel" aria-hidden="true">
  <div class="modal-dialog">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="productModalLabel">รายละเอียด</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <!-- Input Form -->
              <form id="inputForm">
                  <div class="mb-3">
                      <label for="productName" class="form-label">Product Name</label>
                      <input type="text" class="form-control" id="productName" name="productName" required>
                  </div>
                  <div class="mb-3">
                      <label for="productPrice" class="form-label">Product Price</label>
                      <input type="number" class="form-control" id="productPrice" name="productPrice" required>
                  </div>
                  

                  <button type="submit" class="btn btn-gradient-primary">Submit</button>
              </form>

              <!-- Product details will be displayed here -->
          </div>
      </div>
  </div>
</div>


<!--  
<script>
  function fetchAndDisplayProducts(productType) {
      axios.get(`/products?type=${productType}`)
          .then(response => {
              const products = response.data;
              const productListElement = document.getElementById('product-list');
              productListElement.innerHTML = ''; // Clear existing products

              products.forEach(product => {
                  const productCard = document.createElement('div');
                  productCard.className = 'col mb-5';
                  productCard.innerHTML = `
                      <div class="card h-100" data-bs-toggle="modal" data-bs-target="#productModal" onclick="openProductModal('${product.productname}', ${product.price}, 'images/products/${product.image}')">
                          <img class="card-img-top" src="images/products/${product.image}" style="width: 100%; height: 200px; object-fit: cover;">
                          <div class="card-body p-4">
                              <div class="text-center">
                                  <h5 class="fw-bolder">${product.productname}</h5>
                                  ${product.type} 
                                  <br>
                                  ${product.price} ฿
                              </div>
                          </div>
                          <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                          </div>
                      </div>`;

                  productListElement.appendChild(productCard);
              });
          })
          .catch(error => {
              console.error('Error fetching product data:', error);
          });
  }

  function handleSearch() {
      const searchTerm = document.getElementById('search-focus').value.toLowerCase();

      // Call the fetchAndDisplayProducts function with the search term
      fetchAndDisplayProducts(searchTerm);
  }

  // Initial call to display all products
  fetchAndDisplayProducts('all');
</script> -->
  
    
</body>

</html>

<style>
  .btn.btn-gradient-primary.btn-lg {
    border-radius: 2;
    font-size: 18px; /* Adjust the font size as needed */
}


    @media (min-width: 768px) {
        .product-row {
            display: flex;
            flex-wrap: nowrap;
            overflow-x: auto;
        }
        .col.mb-5 {
            flex: 0 0 auto;
            width: 33.33%;
        }
    }
    body {
        font-family: 'Prompt', sans-serif;
    }
    h1 {
        font-family: 'Prompt', sans-serif;
    }
    .breadcrumb-item a {
        text-decoration: none;
        color: inherit;
    }
    .breadcrumb-item a:hover {
        text-decoration: underline;
    }
    .product-row {
        display: flex;
        flex-wrap: wrap;
        justify-content: flex-start;
    }

  .btn-primary {
    color: #000;
    background-color: #b66dff;
    border-color: #b66dff; 
      border-radius: 0; /* Add this line */
}
    .btn-primary:hover {
      color: #000;
      background-color: #c183ff;
      border-color: #bd7cff; }
    .btn-check:focus + .btn-primary, .btn-primary:focus {
      color: #000;
      background-color: #c183ff;
      border-color: #bd7cff;
      -webkit-box-shadow: 0 0 0 0.25rem rgba(155, 93, 217, 0.5);
      box-shadow: 0 0 0 0.25rem rgba(155, 93, 217, 0.5); }
    .btn-check:checked + .btn-primary,
    .btn-check:active + .btn-primary, .btn-primary:active, .btn-primary.active,
    .show > .btn-primary.dropdown-toggle {
      color: #000;
      background-color: #c58aff;
      border-color: #bd7cff; }
      .btn-check:checked + .btn-primary:focus,
      .btn-check:active + .btn-primary:focus, .btn-primary:active:focus, .btn-primary.active:focus,
      .show > .btn-primary.dropdown-toggle:focus {
        -webkit-box-shadow: 0 0 0 0.25rem rgba(155, 93, 217, 0.5);
        box-shadow: 0 0 0 0.25rem rgba(155, 93, 217, 0.5); }
    .btn-primary:disabled, .btn-primary.disabled {
      color: #000;
      background-color: #b66dff;
      border-color: #b66dff; }

      .btn-gradient-primary {
    background: -webkit-gradient(linear, left top, right top, from(#da8cff), to(#9a55ff));
    background: linear-gradient(to right, #da8cff, #9a55ff);
    border: 0;
    -webkit-transition: opacity 0.3s ease;
    transition: opacity 0.3s ease;
    }

    .btn-gradient-primary:not([disabled]):not(.disabled):active,
    .btn-gradient-primary:not([disabled]):not(.disabled).active,
    .show > .btn-gradient-primary.dropdown-toggle {
      background: -webkit-gradient(linear, left top, right top, from(#da8cff), to(#9a55ff));
      background: linear-gradient(to right, #da8cff, #9a55ff);
    }

    .btn-gradient-primary:hover {
      opacity: .8;
    }

    .btn-gradient-primary:not(.btn-gradient-light) {
      color: #ffffff;
    }

    .btn-gradient-primary:not(.btn-gradient-light):hover,
    .btn-gradient-primary:not(.btn-gradient-light):focus,
    .btn-gradient-primary:not(.btn-gradient-light):active {
      color: #ffffff;
    }

</style>
